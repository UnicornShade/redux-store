{"version":3,"file":"index.umd.js","sources":["../src/index.js"],"sourcesContent":["export default class Store {\n  _subscribers = []\n  _state = {}\n\n  constructor(reducer, initialState) {\n    this._reducer = reducer\n    this._state = initialState\n  }\n\n  subscribe = handler => {\n    this._subscribers.push(handler)\n\n    return () => this._unsubscribe(handler)\n  }\n\n  dispatch = action => {\n    this._state = this._reducer(this._state, action)\n  }\n\n  getState = () => {\n    return this._state\n  }\n\n  use = middleware => {\n    if (typeof middleware !== 'function') return\n\n    const next = this.dispatch\n\n    this.dispatch = middleware(this)(next)\n  }\n\n  _unsubscribe = handler => {\n    this._subscribers = this._subscribers.filter(sub => sub !== handler)\n  }\n}\n\nexport function thunk() {\n  return ({ dispatch, getState }) => next => action => {\n    if (typeof action === 'function') {\n      return action(dispatch, getState())\n    }\n\n    return next(action)\n  }\n}\n"],"names":["constructor","reducer","initialState","_subscribers","_state","subscribe","handler","push","this","_unsubscribe","dispatch","action","_reducer","getState","use","middleware","next","filter","sub","ref"],"mappings":"qLAIEA,SAAYC,EAASC,mBAHrBC,aAAe,QACfC,OAAS,QAOTC,mBAAYC,YACLH,aAAaI,KAAKD,qBAEVE,EAAKC,aAAaH,UAGjCI,kBAAWC,KACJP,OAASI,EAAKI,SAASJ,EAAKJ,OAAQO,SAG3CE,2BACSL,EAAKJ,aAGdU,aAAMC,MACsB,mBAAfA,OAELC,EAAOR,EAAKE,WAEbA,SAAWK,EAAWP,EAAXO,CAAiBC,UAGnCP,sBAAeH,KACRH,aAAeK,EAAKL,aAAac,gBAAOC,UAAOA,IAAQZ,UA3BvDM,SAAWX,OACXG,OAASF,WA8BX,2BACGiB,iDAA2BH,mBAAQL,SACnB,mBAAXA,EACFA,EAAOD,EAAUG,KAGnBG,EAAKL"}
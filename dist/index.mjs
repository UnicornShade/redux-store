import{cloneDeep as t}from"lodash";var i=function(t,i){this.props=i,this.elem=t,this.init()};i.prototype.init=function(){},i.prototype.updateDOM=function(t){this.elem.innerHTML=this.render(t)},i.prototype.render=function(t){};var n=function(t,i){var n=this;this.__subscribers=[],this.__state={},this.subscribe=function(t){return n.__subscribers.push(t),function(){return n._unsubscribe(t)}},this.dispatch=function(t){if(!t)throw new Error("Action is not defined");n._state=n._reducer(n._state,t)},this.getState=function(){return n._state},this.use=function(t){if("function"==typeof t){var i=n.dispatch;n.dispatch=t(n)(i)}},this._unsubscribe=function(t){n.__subscribers=n.__subscribers.filter(function(i){return i!==t})},this._notify=function(){n.__subscribers.forEach(function(t){return t(n.getState())})},this._reducer=t,this._state=i},e={_state:{configurable:!0}};function r(t,i){var n=function(i){function n(n,e){i.call(this,n,e),t.subscribe(this.updateDOM.bind(this)),this.dispatch=t.dispatch}return i&&(n.__proto__=i),(n.prototype=Object.create(i&&i.prototype)).constructor=n,n}(i);return n.prototype.dispatch=t.dispatch,n}function s(){return function(t){var i=t.dispatch,n=t.getState;return function(t){return function(e){return"function"==typeof e?e(i,n()):t(e)}}}}e._state.get=function(){return this.__state},e._state.set=function(i){this.__state=t(i),this._notify()},Object.defineProperties(n.prototype,e);export{i as Component,n as Store,r as connectStore,s as useThunk};
//# sourceMappingURL=index.mjs.map
